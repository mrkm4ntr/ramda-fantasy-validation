"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ramda=require("ramda"),R=_interopRequireWildcard(_ramda),Validation=function(){function Validation(value){_classCallCheck(this,Validation),this.value=value}return _createClass(Validation,[{key:"equals",value:function(that){return that instanceof this.constructor&&R.equals(this.value,that.value)}},{key:"map",value:function(){return this}},{key:"nonMonadicChain",value:function(){return this}},{key:"fold",value:function(f1,f2){return this.success?f1(this.value):f2(this.value)}},{key:"isSuccess",get:function(){return!1}},{key:"isFailure",get:function(){return!1}}],[{key:"of",value:function(value){return new Success(value)}},{key:"success",value:function(value){return Validation.of(value)}},{key:"failure",value:function(value){return new Failure(value)}},{key:"liftAN",value:function(n,fn){return R.curryN(n,function(){for(var _len=arguments.length,validations=Array(_len),_key=0;_key<_len;_key++)validations[_key]=arguments[_key];return R.reduce(function(a1,a2){return a1.ap(a2)},R.head(validations).map(R.curry(fn)),R.tail(validations))})}}]),Validation}();exports.default=Validation;var Success=function(_Validation){function Success(x){return _classCallCheck(this,Success),_possibleConstructorReturn(this,(Success.__proto__||Object.getPrototypeOf(Success)).call(this,x))}return _inherits(Success,_Validation),_createClass(Success,[{key:"map",value:function(fn){return new Success(fn(this.value))}},{key:"ap",value:function(that){return that.isSuccess?that.map(this.value):that}},{key:"nonMonadicChain",value:function(fn){return fn(this.value)}},{key:"toPromise",value:function(){return Promise.resolve(this.value)}},{key:"toString",value:function(){return"Validation.Success("+R.toString(this.value)+")"}},{key:"isSuccess",get:function(){return!0}}]),Success}(Validation),Failure=function(_Validation2){function Failure(x){return _classCallCheck(this,Failure),_possibleConstructorReturn(this,(Failure.__proto__||Object.getPrototypeOf(Failure)).call(this,x))}return _inherits(Failure,_Validation2),_createClass(Failure,[{key:"ap",value:function(that){return that.isSuccess?this:new Failure(this.value.concat(that.value))}},{key:"toPromise",value:function(){return Promise.reject(this.value)}},{key:"toString",value:function(){return"Validation.Failure("+R.toString(this.value)+")"}},{key:"isFailure",get:function(){return!0}}]),Failure}(Validation);